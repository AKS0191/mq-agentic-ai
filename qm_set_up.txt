
https://public.dhe.ibm.com/ibmdl/export/pub/software/websphere/messaging/mqdev/mactoolkit/

Add locations of the bin directories /opt/mqm/bin and /opt/mqm/samp/bin to the PATH by editing /etc/paths 

export MQ_INSTALLATION_PATH=/opt/mqm
export LD_LIBRARY_PATH=/opt/mqm/lib64
export DYLD_LIBRARY_PATH=/opt/mqm/lib64

pip install pymqi

crtmqmq QMAPP
strmqm QMAPP

DEFINE LISTENER(LISTENER) TRPTYPE(TCP) PORT(1515) CONTROL(QMGR) REPLACE
START LISTENER(LISTENER)
DEFINE CHANNEL(QMAPP.SVRCONN) CHLTYPE(SVRCONN)
DEFINE QLOCAL(Q1)
DEFINE QMODEL(DEV.APP.MODEL.QUEUE) DEFTYPE(TEMPDYN) DEFPRESP(SYNC) DEFPSIST(NO) QDPHIEV(DISABLED) MAXDEPTH(5000) MSGDLVSQ(PRIORITY) DEFSOPT(SHARED) REPLACE
sudo /usr/sbin/useradd -m -N -c "MQTest_User" agentapp
sudo /usr/bin/passwd agentapp
sudo /usr/sbin/usermod -g users -G "" agentapp

SET AUTHREC OBJTYPE(QMGR) PRINCIPAL('agentapp') AUTHADD(ALLMQI)    
SET AUTHREC PROFILE(Q1) OBJTYPE(QUEUE) PRINCIPAL('agentapp') AUTHADD(ALLMQI)
SET AUTHREC PROFILE(APP.REPLIES.*) OBJTYPE(QUEUE) PRINCIPAL('agentapp') AUTHADD(ALL)
SET AUTHREC PROFILE(DEV.APP.MODEL.QUEUE) OBJTYPE(QUEUE) PRINCIPAL('agentapp') AUTHADD(All)

ALTER CHANNEL(MQAPP.SVRCONN) CHLTYPE(SVRCONN) MCAUSER('agentapp')
ALTER CHANNEL(MQAPP.SVRCONN) CHLTYPE(SVRCONN) SSLCAUTH(OPTIONAL)

# ALTER QMGR CHLAUTH(DISABLED) 

REFRESH SECURITY

DEFINE TOPIC('tickets') TOPICSTR('tickets')

SET AUTHREC PROFILE('tickets') OBJTYPE(TOPIC) PRINCIPAL('agentapp') AUTHADD(ALLMQI)

